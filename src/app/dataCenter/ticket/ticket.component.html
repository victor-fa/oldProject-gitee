<div class="spin" *ngIf="isSpinning">
  <nz-spin [nzSize]="'large'"></nz-spin>
</div>
<nz-table #rowSelectionTable [nzData]="commonService.commonDataCenter" [nzSimple]="true" [(nzPageSize)]="pageSize" [nzShowPagination]="false" [nzScroll]="{x:'3500px', y: '520px'}" *ngIf="!isSpinning">
  <thead>
    <tr>
      <th nzWidth="50px" nzLeft="0px">序号</th>
      <th nzWidth="100px" nzLeft="85px">时间</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[0].checked">唤醒机票人次</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[1].checked">唤醒机票行为数</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[2].checked">机票订单推荐总数</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[3].checked">首次机票订单推荐数</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[4].checked">机票对话轮数（总）</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[5].checked">日最高机票对话轮数</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[6].checked">机票订单请求数</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[7].checked">机票订单提交数</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[8].checked">机票订单成交数</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[9].checked">机票订单出票数</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[10].checked">机票退款数</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[11].checked">机票订单请求率</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[12].checked">机票订单提交率</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[13].checked">机票成交率</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[14].checked">机票退款率</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[15].checked">机票换舱位</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[16].checked">机票换时间</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[17].checked">机票换价格</th>
      <th nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[18].checked">机票换航空公司</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let data of rowSelectionTable.data; let i=index;">
      <td nzWidth="50px" nzLeft="0px">{{i+1}}</td>
      <td nzWidth="100px" nzLeft="85px">{{data.date | date:'yy-MM-dd'}}</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[0].checked">{{data.awakFlightUsers}}</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[1].checked">{{data.awakFlightCount}}</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[2].checked">{{data.flightOrderRecommend}}</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[3].checked">{{data.flightOrderRecommendFirst}}</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[4].checked">{{data.flightSessionCount}}</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[5].checked">{{data.flightSessionMax}}</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[6].checked">{{data.flightOrderQuery}}</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[7].checked">{{data.flightOrderCommit}}</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[8].checked">{{data.flightOrderCheckout}}</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[9].checked">{{data.flightOrderTicket}}</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[10].checked">{{data.flightOrderRefund}}</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[11].checked">{{(data.awakFlightCount === 0 ? 0 : data.flightOrderQuery / data.awakFlightCount) * 100 | number:"0.1-2"}}%</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[12].checked">{{(data.awakFlightCount === 0 ? 0 : data.flightOrderCommit / data.awakFlightCount) * 100 | number:"0.1-2"}}%</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[13].checked">{{(data.awakFlightCount === 0 ? 0 : data.flightOrderCheckout / data.awakFlightCount) * 100 | number:"0.1-2"}}%</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[14].checked">{{(data.flightOrderTicket === 0 ? 0 : data.flightOrderRefund / data.flightOrderTicket) * 100 | number:"0.1-2"}}%</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[15].checked">{{data.flightChangeSpace}}</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[16].checked">{{data.flightChangeTime}}</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[17].checked">{{data.flightChangePrice}}</td>
      <td nzWidth="100px" *ngIf="commonService.checkDataOptions.ticket[18].checked">{{data.flightChangeAirline}}</td>
    </tr>
  </tbody>
</nz-table>
