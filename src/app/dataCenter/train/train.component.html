<div class="spin" *ngIf="isSpinning">
  <nz-spin [nzSize]="'large'"></nz-spin>
</div>
<nz-table #rowSelectionTable [nzData]="commonService.commonDataCenter" [nzSimple]="true" [(nzPageSize)]="pageSize" [nzShowPagination]="false" [nzScroll]="{x:'3500px', y: '520px'}" *ngIf="!isSpinning">
  <thead>
    <tr>
      <th nzWidth="50px">序号</th>
      <!-- <th nzWidth="100px">时间</th> -->
      <th nzWidth="100px">时间</th>
      <th nzWidth="100px">唤醒火车人次</th>
      <th nzWidth="100px">唤醒火车行为数</th>
      <th nzWidth="100px">火车订单推荐总数</th>
      <th nzWidth="100px">首次火车订单推荐数</th>
      <th nzWidth="100px">火车对话轮数（总）</th>
      <th nzWidth="100px">日最高火车对话轮数</th>
      <th nzWidth="100px">火车订单请求数</th>
      <th nzWidth="100px">火车订单提交数</th>
      <th nzWidth="100px">火车订单成交数</th>
      <th nzWidth="100px">火车订单出票数</th>
      <th nzWidth="100px">火车退款数</th>
      <th nzWidth="100px">火车订单请求率</th>
      <th nzWidth="100px">火车订单提交率</th>
      <th nzWidth="100px">火车成交率</th>
      <th nzWidth="100px">火车退款率</th>
      <th nzWidth="100px">火车换舱位</th>
      <th nzWidth="100px">火车换时间</th>
      <th nzWidth="100px">火车换价格</th>
      <th nzWidth="100px">火车换车类型</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let data of rowSelectionTable.data; let i=index;">
      <td nzWidth="50px">{{i+1}}</td>
      <td nzWidth="100px">{{data.date | date:'yy-MM-dd'}}</td>
      <td nzWidth="100px">{{data.awakTrainUsers}}</td>
      <td nzWidth="100px">{{data.awakTrainCount}}</td>
      <td nzWidth="100px">{{data.trainOrderRecommend}}</td>
      <td nzWidth="100px">{{data.trainOrderRecommendFirst}}</td>
      <td nzWidth="100px">{{data.trainSessionCount}}</td>
      <td nzWidth="100px">{{data.trainSessionMax}}</td>
      <td nzWidth="100px">{{data.trainOrderQuery}}</td>
      <td nzWidth="100px">{{data.trainOrderCommit}}</td>
      <td nzWidth="100px">{{data.trainOrderCheckout}}</td>
      <td nzWidth="100px">{{data.trainOrderTicket}}</td>
      <td nzWidth="100px">{{data.trainOrderRefund}}</td>
      <td nzWidth="100px">{{(data.awakTrainCount === 0 ? 0 : data.trainOrderQuery / data.awakTrainCount) * 100 | number:"0.1-2"}}%</td>
      <td nzWidth="100px">{{(data.awakTrainCount === 0 ? 0 : data.trainOrderCommit / data.awakTrainCount) * 100 | number:"0.1-2"}}%</td>
      <td nzWidth="100px">{{(data.awakTrainCount === 0 ? 0 : data.trainOrderCheckout / data.awakTrainCount) * 100 | number:"0.1-2"}}%</td>
      <td nzWidth="100px">{{(data.trainOrderTicket === 0 ? 0 : data.trainOrderRefund / data.trainOrderTicket) * 100 | number:"0.1-2"}}%</td>
      <td nzWidth="100px">{{data.trainChangeSeat}}</td>
      <td nzWidth="100px">{{data.trainChangeTime}}</td>
      <td nzWidth="100px">{{data.trainChangePrice}}</td>
      <td nzWidth="100px">{{data.trainChangeModel}}</td>
    </tr>
  </tbody>
</nz-table>
